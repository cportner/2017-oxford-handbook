View(df)
library("ggplot2", lib.loc="/Library/Frameworks/R.framework/Versions/3.3/Resources/library")
ggplot(data = df, aes(x=year, y=SP.DYN.TFRT.IN))
ggplot(data = df, aes(x=year, y=SP.DYN.TFRT.IN) + geom_point(shape = 1))
ggplot(data = df, aes(x=year, y=SP.DYN.TFRT.IN)) + geom_point(shape = 1)
ggplot(data = df, aes(x=year, y=SP.DYN.TFRT.IN, color = Country.Code)) + geom_point(shape = 1)
ggplot(data = df, aes(x=year, y=SP.DYN.TFRT.IN, color = Country.Code)) + geom_line()
ggplot(data = df, aes(x=year, y=SP.DYN.TFRT.IN, color = Country.Code)) + geom_line(size=2)
ggplot(data = df, aes(x=year, y=SP.DYN.TFRT.IN, color = Country.Code)) + geom_line(size=1.5)
library(ggplot2)
ggplot(data = df,
aes(x=year, y=SP.DYN.TFRT.IN, color = Country.Code)) +
geom_line(size=1.5) +
expand_limits(y = 0) +
xlab("Year") + ylab("Total Fertility Rate")
ggplot(data = df, aes(x=year, y=SP.DYN.TFRT.IN, color = Country.Code)) +
geom_line(size=1.5) + # Thicker line
expand_limits(y = 0) + # include 0 in TFR axis
xlab("Year") + ylab("Total Fertility Rate") + # Pretty labels
ggtitle("Changes in Total Fertility Rate by Region - 1967-2015")
ggplot(data = df, aes(x=year, y=SP.DYN.TFRT.IN, color = Country.Code)) +
geom_line(size=1.5) + # Thicker line
expand_limits(y = 0) + # include 0 in TFR axis
xlab("Year") + ylab("Total Fertility Rate") + # Pretty labels
ggtitle("Changes in Total Fertility Rate by Region - 1967-2015") +
scale_shape_manual(name = "Region")
ggplot(data = df, aes(x=year, y=SP.DYN.TFRT.IN, color = Country.Code)) +
geom_line(size=1.5) + # Thicker line
expand_limits(y = 0) + # include 0 in TFR axis
xlab("Year") + ylab("Total Fertility Rate") + # Pretty labels
ggtitle("Changes in Total Fertility Rate by Region - 1967-2015") +
scale_shape_manual(name = "Region",
values = c(22,21))
ggplot(data = df, aes(x=year, y=SP.DYN.TFRT.IN, group  = Country.Code, color = Country.Code)) +
geom_line(size=1.5) + # Thicker line
expand_limits(y = 0) + # include 0 in TFR axis
xlab("Year") + ylab("Total Fertility Rate") + # Pretty labels
ggtitle("Changes in Total Fertility Rate by Region - 1967-2015") +
scale_shape_manual(name = "Region",
values = c(22,21))
ggplot(data = df, aes(x=year, y=SP.DYN.TFRT.IN, group  = Country.Code, color = Country.Code)) +
geom_line(size=1.5) + # Thicker line
expand_limits(y = 0) + # include 0 in TFR axis
xlab("Year") + ylab("Total Fertility Rate") + # Pretty labels
ggtitle("Changes in Total Fertility Rate by Region - 1967-2015") +
scale_colour_hue(name = "Region") +
scale_shape_manual(name = "Region",
values = c(22,21))
ggplot(data = df, aes(x=year, y=SP.DYN.TFRT.IN, group  = Country.Code, color = Country.Code)) +
geom_line(size=1.5) + # Thicker line
expand_limits(y = 0) + # include 0 in TFR axis
xlab("Year") + ylab("Total Fertility Rate") + # Pretty labels
ggtitle("Changes in Total Fertility Rate by Region - 1967-2015") +
scale_colour_hue(name = "Region") +
scale_shape_manual(name = "Region",
values = c(22,21))
ggplot(data = df, aes(x=year, y=SP.DYN.TFRT.IN, group  = Country.Code, color = Country.Code)) +
geom_line(size=1.5) + # Thicker line
expand_limits(y = 0) + # include 0 in TFR axis
xlab("Year") + ylab("Total Fertility Rate") + # Pretty labels
ggtitle("Changes in Total Fertility Rate by Region - 1967-2015") +
scale_colour_hue(name = "Region")
ggplot(data = df, aes(x=year, y=SP.DYN.TFRT.IN, group  = Country.Code, color = Country.Code)) +
geom_line(size=1.5) + # Thicker line
expand_limits(y = 0) + # include 0 in TFR axis
xlab("Year") + ylab("Total Fertility Rate") + # Pretty labels
ggtitle("Changes in Total Fertility Rate by Region - 1967-2015") +
scale_colour_hue(name = "Region") + # Set legen title
theme(legend.position = c(.7, .4))
ggplot(data = df, aes(x=year, y=SP.DYN.TFRT.IN, group  = Country.Code, color = Country.Code)) +
geom_line(size=1.5) + # Thicker line
expand_limits(y = 0) + # include 0 in TFR axis
xlab("Year") + ylab("Total Fertility Rate") + # Pretty labels
ggtitle("Changes in Total Fertility Rate by Region - 1967-2015") +
scale_colour_hue(name = "Region") + # Set legen title
theme_bw() +
theme(legend.position = c(.7, .4))
ggplot(data = df, aes(x=year, y=SP.DYN.TFRT.IN, group  = Country.Code, color = Country.Code)) +
geom_line(size=1.5) + # Thicker line
expand_limits(y = 0) + # include 0 in TFR axis
xlab("Year") + ylab("Total Fertility Rate") + # Pretty labels
ggtitle("Changes in Total Fertility Rate by Region - 1967-2015") +
scale_colour_hue(name = "Region") + # Set legen title
theme_bw() +
theme(legend.position = c(.4, .2))
ggplot(data = df, aes(x=year, y=SP.DYN.TFRT.IN, group  = Country.Code, color = Country.Code)) +
geom_line(size=1.5) + # Thicker line
expand_limits(y = 0) + # include 0 in TFR axis
xlab("Year") + ylab("Total Fertility Rate") + # Pretty labels
ggtitle("Changes in Total Fertility Rate by Region - 1967-2015") +
scale_colour_hue(name = "Region") + # Set legen title
theme_bw() +
theme(legend.position = c(.2, .2))
# Graph for changes in TFR
# For Fertility Issues chapter in Oxford handbook
# Claus C Portner
# Begun.: 2017-02-10
# Edited: 2017-02-13
library(tidyr)
library(ggplot2)
# short file paths - assuming work directory is "code"
dataDir <- "../data/Data_Extract_From_World_Development_Indicators"
figureDir <- "../figures"
# Data - extracted from World Bank WDI 2017-02-09 - need to reshape
# .. is missing in the original data
df <- read.csv(
file.path(dataDir,"2017-02-09-wdi-extract.csv"),
na.strings=c(".."))
df$Country.Name <- NULL
df$Series.Name <- NULL
# Tidying up data (need tidyr for that) - multistep process
test <- gather(df, key, value, -Country.Code, -Series.Code)
test1 <- separate(test, key, into = c("y1","y2"), sep = 1)
test2 <- separate(test1, y2, into = c("year","x2"), sep = 4)
test2$y1 <- NULL
test2$x2 <- NULL
test3 <- spread(test2, Series.Code, value)
df <- test3
df$year <- as.numeric(df$year)
df$SH.DYN.MORT <- as.numeric(df$SH.DYN.MORT)
df$SH.DYN.MORT.FE <- as.numeric(df$SH.DYN.MORT.FE)
df$SH.DYN.MORT.MA <- as.numeric(df$SH.DYN.MORT.MA)
df$SP.ADO.TFRT <- as.numeric(df$SP.ADO.TFRT)
df$SP.DYN.TFRT.IN <- as.numeric(df$SP.DYN.TFRT.IN)
df$SP.DYN.WFRT <- as.numeric(df$SP.DYN.WFRT)
# Graph for TFR
# This is a pretty good start, but need legends fixed
ggplot(data = df, aes(x=year, y=SP.DYN.TFRT.IN, group  = Country.Code, color = Country.Code)) +
geom_line(size=1.5) + # Thicker line
expand_limits(y = 0) + # include 0 in TFR axis
xlab("Year") + ylab("Total Fertility Rate") + # Pretty labels
ggtitle("Changes in Total Fertility Rate by Region - 1967-2015") +
scale_colour_hue(name = "Region") + # Set legen title
theme_bw() +
theme(legend.position = c(.2, .2))
install.packages("ggplot2")
install.packages("ggplot2")
# Graph for changes in TFR
# For Fertility Issues chapter in Oxford handbook
# Claus C Portner
# Begun.: 2017-02-10
# Edited: 2017-02-13
library(tidyr)
library(ggplot2)
# short file paths - assuming work directory is "code"
dataDir <- "../data/Data_Extract_From_World_Development_Indicators"
figureDir <- "../figures"
# Data - extracted from World Bank WDI 2017-02-09 - need to reshape
# .. is missing in the original data
df <- read.csv(
file.path(dataDir,"2017-02-09-wdi-extract.csv"),
na.strings=c(".."))
df$Country.Name <- NULL
df$Series.Name <- NULL
# Tidying up data (need tidyr for that) - multistep process
test <- gather(df, key, value, -Country.Code, -Series.Code)
test1 <- separate(test, key, into = c("y1","y2"), sep = 1)
test2 <- separate(test1, y2, into = c("year","x2"), sep = 4)
test2$y1 <- NULL
test2$x2 <- NULL
test3 <- spread(test2, Series.Code, value)
df <- test3
df$year <- as.numeric(df$year)
df$SH.DYN.MORT <- as.numeric(df$SH.DYN.MORT)
df$SH.DYN.MORT.FE <- as.numeric(df$SH.DYN.MORT.FE)
df$SH.DYN.MORT.MA <- as.numeric(df$SH.DYN.MORT.MA)
df$SP.ADO.TFRT <- as.numeric(df$SP.ADO.TFRT)
df$SP.DYN.TFRT.IN <- as.numeric(df$SP.DYN.TFRT.IN)
df$SP.DYN.WFRT <- as.numeric(df$SP.DYN.WFRT)
# Graph for TFR
# This is a pretty good start, but need legends fixed
ggplot(data = df, aes(x=year, y=SP.DYN.TFRT.IN, group  = Country.Code, color = Country.Code)) +
geom_line(size=1.5) + # Thicker line
expand_limits(y = 0) + # include 0 in TFR axis
xlab("Year") + ylab("Total Fertility Rate") + # Pretty labels
ggtitle("Changes in Total Fertility Rate by Region - 1967-2015") +
scale_colour_hue(name = "Region") + # Set legen title
theme_bw() +
theme(legend.position = c(.2, .2))
ggplot(data = df, aes(x=year, y=SP.DYN.TFRT.IN, group  = Country.Code, color = Country.Code)) +
geom_line(size=1.5) + # Thicker line
scale_y_continuous(expand = c(0, 0)) + # better way of 0 in TFR
xlab("Year") + ylab("Total Fertility Rate") + # Pretty labels
ggtitle("Changes in Total Fertility Rate by Region - 1967-2015") +
scale_colour_hue(name = "Region") + # Set legen title
theme_bw() +
theme(legend.position = c(.2, .2))
ggplot(data = df, aes(x=year, y=SP.DYN.TFRT.IN, group  = Country.Code, color = Country.Code)) +
geom_line(size=1.5) + # Thicker line
scale_y_continuous(expand = c(0, 0), limits = c(0,8)) + # better way of 0 in TFR
xlab("Year") + ylab("Total Fertility Rate") + # Pretty labels
ggtitle("Changes in Total Fertility Rate by Region - 1967-2015") +
scale_colour_hue(name = "Region") + # Set legen title
theme_bw() +
theme(legend.position = c(.2, .2))
ggplot(data = df, aes(x=year, y=SP.DYN.TFRT.IN, group  = Country.Code, color = Country.Code)) +
geom_line(size=1.5) + # Thicker line
scale_y_continuous(limits = c(0,8)) + # better way of 0 in TFR
xlab("Year") + ylab("Total Fertility Rate") + # Pretty labels
ggtitle("Changes in Total Fertility Rate by Region - 1967-2015") +
scale_colour_hue(name = "Region") + # Set legen title
theme_bw() +
theme(legend.position = c(.2, .2))
ggplot(data = df, aes(x=year, y=SP.DYN.TFRT.IN, group  = Country.Code, color = Country.Code)) +
geom_line(size=1.5) + # Thicker line
scale_y_continuous(expand = c(0, 0), limits = c(0,8)) + # better way of 0 in TFR
xlab("Year") + ylab("Total Fertility Rate") + # Pretty labels
ggtitle("Changes in Total Fertility Rate by Region - 1967-2015") +
scale_colour_hue(name = "Region") + # Set legen title
theme_bw() +
theme(legend.position = c(.2, .2))
p <- ggplot(data = df, aes(x=year, y=SP.DYN.TFRT.IN, group  = Country.Code, color = Country.Code)) +
geom_line(size=1.5) + # Thicker line
scale_y_continuous(expand = c(0, 0), limits = c(0,8)) + # better way of 0 in TFR
xlab("Year") + ylab("Total Fertility Rate") + # Pretty labels
ggtitle("Changes in Total Fertility Rate by Region - 1967-2015") +
scale_colour_hue(name = "Region") + # Set legen title
theme_bw() +
theme(legend.position = c(.2, .2))
p <- ggplot(data = df, aes(x=year, y=SP.DYN.TFRT.IN, group  = Country.Code, color = Country.Code)) +
geom_line(size=1.5) + # Thicker line
scale_y_continuous(expand = c(0, 0), limits = c(0,8)) + # better way of 0 in TFR
xlab("Year") + ylab("Total Fertility Rate") + # Pretty labels
ggtitle("Changes in Total Fertility Rate by Region - 1967-2015") +
scale_colour_hue(name = "Region") + # Set legen title
theme_bw() +
theme(legend.position = c(.2, .2))
p
install.packages("directlabels")
# Graph for changes in TFR
# For Fertility Issues chapter in Oxford handbook
# Claus C Portner
# Begun.: 2017-02-10
# Edited: 2017-02-13
library(tidyr)
library(ggplot2)
library(directlabels)
# short file paths - assuming work directory is "code"
dataDir <- "../data/Data_Extract_From_World_Development_Indicators"
figureDir <- "../figures"
# Data - extracted from World Bank WDI 2017-02-09 - need to reshape
# .. is missing in the original data
df <- read.csv(
file.path(dataDir,"2017-02-09-wdi-extract.csv"),
na.strings=c(".."))
df$Country.Name <- NULL
df$Series.Name <- NULL
# Tidying up data (need tidyr for that) - multistep process
test <- gather(df, key, value, -Country.Code, -Series.Code)
test1 <- separate(test, key, into = c("y1","y2"), sep = 1)
test2 <- separate(test1, y2, into = c("year","x2"), sep = 4)
test2$y1 <- NULL
test2$x2 <- NULL
test3 <- spread(test2, Series.Code, value)
df <- test3
df$year <- as.numeric(df$year)
df$SH.DYN.MORT <- as.numeric(df$SH.DYN.MORT)
df$SH.DYN.MORT.FE <- as.numeric(df$SH.DYN.MORT.FE)
df$SH.DYN.MORT.MA <- as.numeric(df$SH.DYN.MORT.MA)
df$SP.ADO.TFRT <- as.numeric(df$SP.ADO.TFRT)
df$SP.DYN.TFRT.IN <- as.numeric(df$SP.DYN.TFRT.IN)
df$SP.DYN.WFRT <- as.numeric(df$SP.DYN.WFRT)
# Graph for TFR
# This is a pretty good start, but need legends fixed
p <- ggplot(data = df, aes(x=year, y=SP.DYN.TFRT.IN, group  = Country.Code, color = Country.Code)) +
geom_line(size=1.5) + # Thicker line
scale_y_continuous(expand = c(0, 0), limits = c(0,8)) + # better way of 0 in TFR
xlab("Year") + ylab("Total Fertility Rate") + # Pretty labels
ggtitle("Changes in Total Fertility Rate by Region - 1967-2015") +
scale_colour_hue(name = "Region") + # Set legend title
theme_bw() +
theme(legend.position = c(.2, .2))
p1 <- ggplot(data = df, aes(x=year, y=SP.DYN.TFRT.IN, group  = Country.Code, color = Country.Code)) +
geom_line(size=1.5) + # Thicker line
scale_y_continuous(expand = c(0, 0), limits = c(0,8)) + # better way of 0 in TFR
xlab("Year") + ylab("Total Fertility Rate") + # Pretty labels
ggtitle("Changes in Total Fertility Rate by Region - 1967-2015")
p1 <- p1 + geom_dl(aes(label = Country.Code),
method = "last.points", cex = 0.8)
p1
p
install.packages("directlabels")
# Graph for changes in TFR
# For Fertility Issues chapter in Oxford handbook
# Claus C Portner
# Begun.: 2017-02-10
# Edited: 2017-02-15
library(tidyr)
library(ggplot2)
library(directlabels) # don't really need this
# short file paths - assuming work directory is "code"
dataDir <- "../data/Data_Extract_From_World_Development_Indicators"
figureDir <- "../figures"
# Data - extracted from World Bank WDI 2017-02-09 - need to reshape
# .. is missing in the original data
df <- read.csv(
file.path(dataDir,"2017-02-09-wdi-extract.csv"),
na.strings=c(".."))
df$Country.Name <- NULL
df$Series.Name <- NULL
# Tidying up data (need tidyr for that) - multistep process
test <- gather(df, key, value, -Country.Code, -Series.Code)
test1 <- separate(test, key, into = c("y1","y2"), sep = 1)
test2 <- separate(test1, y2, into = c("year","x2"), sep = 4)
test2$y1 <- NULL
test2$x2 <- NULL
test3 <- spread(test2, Series.Code, value)
df <- test3
df$year <- as.numeric(df$year)
df$SH.DYN.MORT <- as.numeric(df$SH.DYN.MORT)
df$SH.DYN.MORT.FE <- as.numeric(df$SH.DYN.MORT.FE)
df$SH.DYN.MORT.MA <- as.numeric(df$SH.DYN.MORT.MA)
df$SP.ADO.TFRT <- as.numeric(df$SP.ADO.TFRT)
df$SP.DYN.TFRT.IN <- as.numeric(df$SP.DYN.TFRT.IN)
df$SP.DYN.WFRT <- as.numeric(df$SP.DYN.WFRT)
# Graph for TFR
# This is a pretty good start, but need legends fixed
p <- ggplot(data = df, aes(x=year, y=SP.DYN.TFRT.IN, group  = Country.Code, color = Country.Code)) +
geom_line(size=1.5) + # Thicker line
scale_y_continuous(expand = c(0, 0), limits = c(0,8)) + # better way of 0 in TFR
xlab("Year") + ylab("Total Fertility Rate") + # Pretty labels
ggtitle("Changes in Total Fertility Rate by Region - 1967-2015") +
scale_colour_hue(name = "Region") + # Set legend title
theme_bw() +
theme(legend.position = c(.2, .2))
p
p + guides(fill = guide_legend(ncol = 2))
p <- ggplot(data = df, aes(x=year, y=SP.DYN.TFRT.IN, group  = Country.Code, color = Country.Code)) +
geom_line(size=1.5) + # Thicker line
scale_y_continuous(expand = c(0, 0), limits = c(0,8)) + # better way of 0 in TFR
xlab("Year") + ylab("Total Fertility Rate") + # Pretty labels
ggtitle("Changes in Total Fertility Rate by Region - 1967-2015") +
scale_colour_hue(name = "Region") + # Set legend title
theme_bw() +
theme(legend.position = c(.2, .2)) +
guides(fill = guide_legend(ncol = 2))
p <- ggplot(data = df, aes(x=year, y=SP.DYN.TFRT.IN, group  = Country.Code, color = Country.Code)) +
geom_line(size=1.5) + # Thicker line
scale_y_continuous(expand = c(0, 0), limits = c(0,8)) + # better way of 0 in TFR
xlab("Year") + ylab("Total Fertility Rate") + # Pretty labels
ggtitle("Changes in Total Fertility Rate by Region - 1967-2015") +
scale_colour_hue(name = "Region") + # Set legend title
guides(fill = guide_legend(ncol = 2))
ggplot(data = df, aes(x=year, y=SP.DYN.TFRT.IN, group  = Country.Code, color = Country.Code)) +
geom_line(size=1.5) + # Thicker line
scale_y_continuous(expand = c(0, 0), limits = c(0,8)) + # better way of 0 in TFR
xlab("Year") + ylab("Total Fertility Rate") + # Pretty labels
ggtitle("Changes in Total Fertility Rate by Region - 1967-2015") +
scale_colour_hue(name = "Region") + # Set legend title
guides(fill = guide_legend(ncol = 2))
ggplot(data = df, aes(x=year, y=SP.DYN.TFRT.IN, group  = Country.Code, color = Country.Code)) +
geom_line(size=1.5) + # Thicker line
scale_y_continuous(expand = c(0, 0), limits = c(0,8)) + # better way of 0 in TFR
xlab("Year") + ylab("Total Fertility Rate") + # Pretty labels
ggtitle("Changes in Total Fertility Rate by Region - 1967-2015") +
scale_colour_hue(name = "Region") + # Set legend title
guides(fill = guide_legend(ncol = 3))
ggplot(data = df, aes(x=year, y=SP.DYN.TFRT.IN, group  = Country.Code, color = Country.Code)) +
geom_line(size=1.5) + # Thicker line
scale_y_continuous(expand = c(0, 0), limits = c(0,8)) + # better way of 0 in TFR
xlab("Year") + ylab("Total Fertility Rate") + # Pretty labels
ggtitle("Changes in Total Fertility Rate by Region - 1967-2015") +
guides(fill = guide_legend(ncol = 3))
ggplot(data = df, aes(x=year, y=SP.DYN.TFRT.IN, group  = Country.Code, color = Country.Code, fill = "Region")) +
geom_line(size=1.5) + # Thicker line
scale_y_continuous(expand = c(0, 0), limits = c(0,8)) + # better way of 0 in TFR
xlab("Year") + ylab("Total Fertility Rate") + # Pretty labels
ggtitle("Changes in Total Fertility Rate by Region - 1967-2015") +
guides(fill = guide_legend(ncol = 3))
ggplot(data = df, aes(x=year, y=SP.DYN.TFRT.IN, fill  = Country.Code, color = Country.Code)) +
geom_line(size=1.5) + # Thicker line
scale_y_continuous(expand = c(0, 0), limits = c(0,8)) + # better way of 0 in TFR
xlab("Year") + ylab("Total Fertility Rate") + # Pretty labels
ggtitle("Changes in Total Fertility Rate by Region - 1967-2015") +
scale_colour_hue(name = "Region") + # Set legend title
guides(fill = guide_legend(ncol = 3))
ggplot(data = df, aes(x=year, y=SP.DYN.TFRT.IN, fill  = Country.Code, color = Country.Code)) +
geom_line(size=1.5) + # Thicker line
scale_y_continuous(expand = c(0, 0), limits = c(0,8)) + # better way of 0 in TFR
xlab("Year") + ylab("Total Fertility Rate") + # Pretty labels
ggtitle("Changes in Total Fertility Rate by Region - 1967-2015") +
scale_colour_hue(name = "Region") + # Set legend title
guides(fill = guide_legend(ncol = 2))
ggplot(data = df, aes(x=year, y=SP.DYN.TFRT.IN, fill  = Country.Code, color = Country.Code)) +
geom_line(size=1.5) + # Thicker line
scale_y_continuous(expand = c(0, 0), limits = c(0,8)) + # better way of 0 in TFR
xlab("Year") + ylab("Total Fertility Rate") + # Pretty labels
ggtitle("Changes in Total Fertility Rate by Region - 1967-2015") +
scale_colour_hue(name = "Region") + # Set legend title
guides(color = guide_legend(ncol = 2))
ggplot(data = df, aes(x=year, y=SP.DYN.TFRT.IN, fill  = Country.Code, color = Country.Code)) +
geom_line(size=1.5) + # Thicker line
scale_y_continuous(expand = c(0, 0), limits = c(0,8)) + # better way of 0 in TFR
xlab("Year") + ylab("Total Fertility Rate") + # Pretty labels
ggtitle("Changes in Total Fertility Rate by Region - 1967-2015") +
scale_colour_hue(name = "Region") + # Set legend title
guides(color = guide_legend(ncol = 2)) +
theme_bw() +
theme(legend.position = c(.2, .2)) +
agj
ggplot(data = df, aes(x=year, y=SP.DYN.TFRT.IN, fill  = Country.Code, color = Country.Code)) +
geom_line(size=1.5) + # Thicker line
scale_y_continuous(expand = c(0, 0), limits = c(0,8)) + # better way of 0 in TFR
xlab("Year") + ylab("Total Fertility Rate") + # Pretty labels
ggtitle("Changes in Total Fertility Rate by Region - 1967-2015") +
scale_colour_hue(name = "Region") + # Set legend title
guides(color = guide_legend(ncol = 2)) +
theme_bw() +
theme(legend.position = c(.2, .2))
p <- ggplot(data = df, aes(x=year, y=SP.DYN.TFRT.IN, fill  = Country.Code, color = Country.Code)) +
geom_line(size=1.5) + # Thicker line
scale_y_continuous(expand = c(0, 0), limits = c(0,8)) + # better way of 0 in TFR
xlab("Year") + ylab("Total Fertility Rate") + # Pretty labels
ggtitle("Changes in Total Fertility Rate by Region - 1967-2015") +
scale_colour_hue(name = "Region") + # Set legend title
guides(color = guide_legend(ncol = 2)) +
theme_bw() +
theme(legend.position = c(.2, .2))
p <- ggplot(data = df, aes(x=year, y=SP.DYN.TFRT.IN, fill  = Country.Code, color = Country.Code)) +
geom_line(size=1.5) + # Thicker line
scale_y_continuous(expand = c(0, 0), limits = c(0,8)) + # better way of 0 in TFR
xlab("Year") + ylab("Total Fertility Rate") + # Pretty labels
ggtitle("Changes in Total Fertility Rate by Region - 1967-2015") +
scale_colour_hue(name = "Region", labels = c("Overall")) + # Set legend title
guides(color = guide_legend(ncol = 2)) +
theme_bw() +
theme(legend.position = c(.2, .2))
p <- ggplot(data = df, aes(x=year, y=SP.DYN.TFRT.IN, fill  = Country.Code, color = Country.Code)) +
geom_line(size=1.5) + # Thicker line
scale_y_continuous(expand = c(0, 0), limits = c(0,8)) + # better way of 0 in TFR
xlab("Year") + ylab("Total Fertility Rate") + # Pretty labels
ggtitle("Changes in Total Fertility Rate by Region - 1967-2015") +
scale_colour_discrete(name = "Region") +
guides(color = guide_legend(ncol = 2)) +
theme_bw() +
theme(legend.position = c(.2, .2))
p <- ggplot(data = df, aes(x=year, y=SP.DYN.TFRT.IN, fill  = Country.Code, color = Country.Code)) +
geom_line(size=1.5) + # Thicker line
scale_y_continuous(expand = c(0, 0), limits = c(0,8)) + # better way of 0 in TFR
xlab("Year") + ylab("Total Fertility Rate") + # Pretty labels
ggtitle("Changes in Total Fertility Rate by Region - 1967-2015") +
scale_colour_discrete(name = "Regions") +
guides(color = guide_legend(ncol = 2)) +
theme_bw() +
theme(legend.position = c(.2, .2))
p
p <- ggplot(data = df, aes(x=year, y=SP.DYN.TFRT.IN, fill  = Country.Code, color = Country.Code)) +
geom_line(size=1.5) + # Thicker line
scale_y_continuous(expand = c(0, 0), limits = c(0,8)) + # better way of 0 in TFR
xlab("Year") + ylab("Total Fertility Rate") + # Pretty labels
ggtitle("Changes in Total Fertility Rate by Region - 1967-2015") +
scale_colour_discrete(name = "Regions",
labels = c("Overall")) +
guides(color = guide_legend(ncol = 2)) +
theme_bw() +
theme(legend.position = c(.2, .2))
p
p <- ggplot(data = df, aes(x=year, y=SP.DYN.TFRT.IN, fill  = Country.Code, color = Country.Code)) +
geom_line(size=1.5) + # Thicker line
scale_y_continuous(expand = c(0, 0), limits = c(0,8)) + # better way of 0 in TFR
xlab("Year") + ylab("Total Fertility Rate") + # Pretty labels
ggtitle("Changes in Total Fertility Rate by Region - 1967-2015") +
scale_colour_discrete(name = "Regions" ) +
guides(color = guide_legend(ncol = 2)) +
theme_bw() +
theme(legend.position = c(.2, .2))
p
p <- ggplot(data = df, aes(x=year, y=SP.DYN.TFRT.IN, fill  = Country.Code, color = Country.Code)) +
geom_line(size=1.5) + # Thicker line
scale_y_continuous(expand = c(0, 0), limits = c(0,8)) + # better way of 0 in TFR
xlab("Year") + ylab("Total Fertility Rate") + # Pretty labels
ggtitle("Changes in Total Fertility Rate by Region - 1967-2015") +
scale_colour_discrete(name = "Regions",
labels = c("Overall", "East Asia & Pacific", "Europe & Central Asia",
"Latin America & the Caribbean", "Middle East & North Africa",
"South Asia", "Sub-Saharan Africa" )) +
guides(color = guide_legend(ncol = 2)) +
theme_bw() +
theme(legend.position = c(.2, .2))
p
p <- ggplot(data = df, aes(x=year, y=SP.DYN.TFRT.IN, fill  = Country.Code, color = Country.Code)) +
geom_line(size=1.5) + # Thicker line
scale_y_continuous(expand = c(0, 0), limits = c(0,8)) + # better way of 0 in TFR
xlab("Year") + ylab("Total Fertility Rate") + # Pretty labels
ggtitle("Changes in Total Fertility Rate by Region - 1967-2015") +
scale_colour_discrete(name = "Regions",
labels = c("Overall", "East Asia & Pacific", "Europe & Central Asia",
"Latin America & the Caribbean", "Middle East & North Africa",
"South Asia", "Sub-Saharan Africa" )) +
guides(color = guide_legend(ncol = 2)) +
theme_bw() +
theme(legend.position = c(.2, .15))
p
p <- ggplot(data = df, aes(x=year, y=SP.DYN.TFRT.IN, fill  = Country.Code, color = Country.Code)) +
geom_line(size=1.5) + # Thicker line
scale_y_continuous(expand = c(0, 0), limits = c(0,8)) + # better way of 0 in TFR
xlab("Year") + ylab("Total Fertility Rate") + # Pretty labels
ggtitle("Changes in Total Fertility Rate by Region - 1967-2015") +
scale_colour_discrete(name = "Regions",
labels = c("Overall", "East Asia & Pacific", "Europe & Central Asia",
"Latin America & the Caribbean", "Middle East & North Africa",
"South Asia", "Sub-Saharan Africa" )) +
guides(color = guide_legend(ncol = 2)) +
theme_bw() +
theme(legend.position = c(.25, .15))
p
p + geom_abline(aes(yintercept = 2.1))
p + geom_hline(aes(yintercept = 2.1))
p + geom_hline(aes(yintercept = 2.1), linetype = "dashed")
p + geom_hline(aes(yintercept = 2.1), linetype = "dashed", colour = "red")
ggsave(file.path(figureDir,"totalFertilityRates"), device = "pdf")
ggsave(file.path(figureDir,"totalFertilityRates.pdf"), device = "pdf")
